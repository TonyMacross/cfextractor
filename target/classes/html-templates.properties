# HTML Templates para el generador de reportes ColdFusion

# Header del documento HTML
html.header=<!DOCTYPE html>\
<html lang="es">\
<head>\
    <meta charset="UTF-8">\
    <meta name="viewport" content="width=device-width, initial-scale=1.0">\
    <title>Reporte de Análisis ColdFusion</title>\
    <style>\
        body {\
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;\
            line-height: 1.6;\
            margin: 0;\
            padding: 20px;\
            background-color: #f5f5f5;\
        }\
        .container {\
            max-width: 1200px;\
            margin: 0 auto;\
            background: white;\
            padding: 30px;\
            border-radius: 10px;\
            box-shadow: 0 0 20px rgba(0,0,0,0.1);\
        }\
        h1 {\
            color: #2c3e50;\
            text-align: center;\
            border-bottom: 3px solid #3498db;\
            padding-bottom: 10px;\
        }\
        h2 {\
            color: #34495e;\
            border-left: 4px solid #3498db;\
            padding-left: 15px;\
            margin-top: 30px;\
        }\
        h3 {\
            color: #2c3e50;\
            margin-top: 25px;\
        }\
        .summary-grid {\
            display: grid;\
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));\
            gap: 20px;\
            margin: 20px 0;\
        }\
        .summary-card {\
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);\
            color: white;\
            padding: 20px;\
            border-radius: 10px;\
            text-align: center;\
        }\
        .summary-card h3 {\
            margin: 0;\
            color: white;\
        }\
        .summary-card .number {\
            font-size: 2em;\
            font-weight: bold;\
            margin: 10px 0;\
        }\
        table {\
            width: 100%;\
            border-collapse: collapse;\
            margin: 20px 0;\
            background: white;\
        }\
        th, td {\
            padding: 12px;\
            text-align: left;\
            border-bottom: 1px solid #ddd;\
        }\
        th {\
            background-color: #3498db;\
            color: white;\
            font-weight: bold;\
        }\
        tr:nth-child(even) {\
            background-color: #f8f9fa;\
        }\
        tr:hover {\
            background-color: #e8f4f8;\
        }\
        .code {\
            background-color: #f8f9fa;\
            border: 1px solid #e9ecef;\
            border-radius: 4px;\
            padding: 10px;\
            font-family: 'Courier New', monospace;\
            font-size: 0.9em;\
            overflow-x: auto;\
            max-height: 200px;\
            overflow-y: auto;\
        }\
        .file-extension {\
            background-color: #007bff;\
            color: white;\
            padding: 2px 6px;\
            border-radius: 3px;\
            font-size: 0.8em;\
        }\
        .usage-list {\
            max-height: 100px;\
            overflow-y: auto;\
            font-size: 0.9em;\
        }\
        .info-header {\
            background-color: #e3f2fd;\
            padding: 15px;\
            border-radius: 5px;\
            margin: 20px 0;\
        }\
        .toc {\
            background-color: #f8f9fa;\
            padding: 20px;\
            border-radius: 5px;\
            margin: 20px 0;\
        }\
        .toc ul {\
            list-style-type: none;\
            padding-left: 0;\
        }\
        .toc li {\
            margin: 8px 0;\
        }\
        .toc a {\
            color: #007bff;\
            text-decoration: none;\
        }\
        .toc a:hover {\
            text-decoration: underline;\
        }\
    </style>\
</head>\
<body>\
    <div class="container">\
        <h1>Reporte de Análisis ColdFusion</h1>\
        <div class="info-header">\
            <p><strong>Aplicación:</strong> ${applicationPath}</p>\
            <p><strong>Fecha de análisis:</strong> ${analysisDate}</p>\
        </div>

# Resumen ejecutivo
html.summary=<div class="toc">\
    <h2>Índice</h2>\
    <ul>\
        <li><a href="#summary">Resumen Ejecutivo</a></li>\
        <li><a href="#files">Inventario de Archivos</a></li>\
        <li><a href="#queries">Inventario de Queries SQL</a></li>\
        <li><a href="#functions">Inventario de Funciones</a></li>\
        <li><a href="#components">Inventario de Componentes</a></li>\
        <li><a href="#invokes">Inventario de Invokes</a></li>\
        <li><a href="#includes">Inventario de Includes</a></li>\
        <li><a href="#modules">Inventario de Modules</a></li>\
    </ul>\
</div>\
<h2 id="summary">Resumen Ejecutivo</h2>\
<div class="summary-grid">\
    <div class="summary-card">\
        <h3>Total Archivos</h3>\
        <div class="number">${totalFiles}</div>\
    </div>\
    <div class="summary-card">\
        <h3>Queries SQL</h3>\
        <div class="number">${totalQueries}</div>\
    </div>\
    <div class="summary-card">\
        <h3>Funciones</h3>\
        <div class="number">${totalFunctions}</div>\
    </div>\
    <div class="summary-card">\
        <h3>Componentes</h3>\
        <div class="number">${totalComponents}</div>\
    </div>\
    <div class="summary-card">\
        <h3>Invokes</h3>\
        <div class="number">${totalInvokes}</div>\
    </div>\
    <div class="summary-card">\
        <h3>Includes</h3>\
        <div class="number">${totalIncludes}</div>\
    </div>\
</div>\
<h3>Distribución por tipo de archivo</h3>\
<table>\
    <thead>\
        <tr>\
            <th>Extensión</th>\
            <th>Cantidad</th>\
            <th>Porcentaje</th>\
        </tr>\
    </thead>\
    <tbody>\
        ${extensionRows}\
    </tbody>\
</table>

# Fila de extensión para resumen
summary.extension.row=<tr><td><span class="file-extension">${extension}</span></td><td>${count}</td><td>${percentage}</td></tr>

# Inventario de archivos
html.files=<h2 id="files">Inventario de Archivos</h2>\
<table>\
    <thead>\
        <tr>\
            <th>Archivo</th>\
            <th>Extensión</th>\
            <th>Tamaño (bytes)</th>\
            <th>Líneas</th>\
            <th>Última modificación</th>\
        </tr>\
    </thead>\
    <tbody>\
        ${fileRows}\
    </tbody>\
</table>

# Fila de archivo
files.row=<tr>\
    <td>${relativePath}</td>\
    <td><span class="file-extension">${extension}</span></td>\
    <td>${fileSize}</td>\
    <td>${lineCount}</td>\
    <td>${lastModified}</td>\
</tr>

# Inventario de queries
html.queries=<h2 id="queries">Inventario de Queries SQL</h2>\
<table>\
    <thead>\
        <tr>\
            <th>Nombre</th>\
            <th>Archivo</th>\
            <th>Línea</th>\
            <th>Datasource</th>\
            <th>SQL (primeras 100 chars)</th>\
        </tr>\
    </thead>\
    <tbody>\
        ${queryRows}\
    </tbody>\
</table>

# Fila de query
queries.row=<tr>\
    <td>${queryName}</td>\
    <td>${fileName}</td>\
    <td>${lineNumber}</td>\
    <td>${datasource}</td>\
    <td><div class="code">${sqlPreview}</div></td>\
</tr>

# Inventario de funciones
html.functions=<h2 id="functions">Inventario de Funciones</h2>\
<table>\
    <thead>\
        <tr>\
            <th>Nombre</th>\
            <th>Archivo</th>\
            <th>Línea</th>\
            <th>Acceso</th>\
            <th>Tipo Retorno</th>\
            <th>Usado en</th>\
        </tr>\
    </thead>\
    <tbody>\
        ${functionRows}\
    </tbody>\
</table>

# Fila de función
functions.row=<tr>\
    <td>${functionName}</td>\
    <td>${fileName}</td>\
    <td>${lineNumber}</td>\
    <td>${access}</td>\
    <td>${returnType}</td>\
    <td><div class="usage-list">${usedInFiles}</div></td>\
</tr>

# Inventario de componentes
html.components=<h2 id="components">Inventario de Componentes</h2>\
<table>\
    <thead>\
        <tr>\
            <th>Nombre</th>\
            <th>Archivo</th>\
            <th>Línea</th>\
            <th>Extiende</th>\
            <th>Implementa</th>\
            <th>Usado en</th>\
        </tr>\
    </thead>\
    <tbody>\
        ${componentRows}\
    </tbody>\
</table>

# Fila de componente
components.row=<tr>\
    <td>${componentName}</td>\
    <td>${fileName}</td>\
    <td>${lineNumber}</td>\
    <td>${extends}</td>\
    <td>${implements}</td>\
    <td><div class="usage-list">${usedInFiles}</div></td>\
</tr>

# Inventario de invokes
html.invokes=<h2 id="invokes">Inventario de Invokes</h2>\
<table>\
    <thead>\
        <tr>\
            <th>Componente</th>\
            <th>Método</th>\
            <th>Archivo</th>\
            <th>Línea</th>\
        </tr>\
    </thead>\
    <tbody>\
        ${invokeRows}\
    </tbody>\
</table>

# Fila de invoke
invokes.row=<tr>\
    <td>${component}</td>\
    <td>${method}</td>\
    <td>${fileName}</td>\
    <td>${lineNumber}</td>\
</tr>

# Inventario de includes
html.includes=<h2 id="includes">Inventario de Includes</h2>\
<table>\
    <thead>\
        <tr>\
            <th>Template</th>\
            <th>Archivo</th>\
            <th>Línea</th>\
        </tr>\
    </thead>\
    <tbody>\
        ${includeRows}\
    </tbody>\
</table>

# Fila de include
includes.row=<tr>\
    <td>${template}</td>\
    <td>${fileName}</td>\
    <td>${lineNumber}</td>\
</tr>

# Inventario de modules
html.modules=<h2 id="modules">Inventario de Modules</h2>\
<table>\
    <thead>\
        <tr>\
            <th>Template</th>\
            <th>Nombre</th>\
            <th>Archivo</th>\
            <th>Línea</th>\
        </tr>\
    </thead>\
    <tbody>\
        ${moduleRows}\
    </tbody>\
</table>

# Fila de module
modules.row=<tr>\
    <td>${template}</td>\
    <td>${name}</td>\
    <td>${fileName}</td>\
    <td>${lineNumber}</td>\
</tr>

# Footer del documento HTML
html.footer=    </div>\
    <script>\
        document.querySelectorAll('table').forEach(table => {\
            const headers = table.querySelectorAll('th');\
            headers.forEach((header, index) => {\
                header.style.cursor = 'pointer';\
                header.addEventListener('click', () => sortTable(table, index));\
            });\
        });\
        function sortTable(table, column) {\
            const tbody = table.querySelector('tbody');\
            const rows = Array.from(tbody.querySelectorAll('tr'));\
            rows.sort((a, b) => {\
                const aText = a.cells[column].textContent.trim();\
                const bText = b.cells[column].textContent.trim();\
                if (!isNaN(aText) && !isNaN(bText)) {\
                    return Number(aText) - Number(bText);\
                }\
                return aText.localeCompare(bText);\
            });\
            rows.forEach(row => tbody.appendChild(row));\
        }\
    </script>\
</body>\
</html>